<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>任务二：零基础JavaScript编码（二）</title>
</head>
<body>
    <h3>污染城市列表</h3>
    <ul id="aqi-list">
        <!--
            <li>第一名：福州（样例），10</li>
            <li>第二名：福州（样例），10</li>
        -->
    </ul>
    <script type="text/javascript">
        var aqiData = [
            ["北京", 90],
            ["上海", 50],
            ["福州", 10],
            ["广州", 50],
            ["成都", 90],
            ["西安", 100]
        ];
        (function () {
            /*
             在注释下方编写代码
             遍历读取aqiData中各个城市的数据
             将空气质量指数大于60的城市显示到aqi-list的列表中
             */
            var badair = new Array();
            //定义数组，用于生成数字序号
            var num = ["一", "二", "三", "四", "五", "六", "七", "八", "九"];
            //筛选出空气质量指数大于60的城市
            for(var i=0;i<aqiData.length;i++){
                if(aqiData[i][1]>60){
                    badair[badair.length]={
                        city:aqiData[i][0],
                        quality:aqiData[i][1]
                    }
                }
            }
            //利用冒泡排序将筛选出来的城市按空气质量指数从大到小排序
            for(var i=0;i<badair.length;i++) {
                var bool = true;
                for (var j = 0; j < badair.length - 1 - i; j++) {
                    if (badair[j].quality < badair[j + 1].quality) {
                        var temp = badair[j];
                        badair[j] = badair[j + 1];
                        badair[j + 1] = temp;
                        bool = false;
                    }
                }
                if (bool) {
                    break;
                }
            }
            //将排好序的城市显示到aqi-list的列表中
            for(var i=0;i<badair.length;i++){
                document.getElementById("aqi-list").innerHTML += '<li>第'+num[i]+'名：'+badair[i].city+'， '+badair[i].quality+'</li>';
            }
        })();
    </script>
</body>
</html>